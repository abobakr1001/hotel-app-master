"use strict";(self.webpackChunkhotel_system=self.webpackChunkhotel_system||[]).push([[405],{5405:(U,p,a)=>{a.r(p),a.d(p,{FacilitiesModule:()=>y});var d=a(6814),m=a(2787),r=a(7700),t=a(5879),s=a(6223),h=a(2032),f=a(4170),g=a(2296);let b=(()=>{class n{constructor(e,o){this.dialogRef=e,this.data=o,this.mydata=""}onNoClick(){this.dialogRef.close()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(r.so),t.Y36(r.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-facilitie"]],decls:13,vars:2,consts:[[1,"p-3"],[1,"m-3"],["name","facility","matInput","","type","text",1,"",3,"ngModel","ngModelChange"],[1,"justify-content-between"],["mat-button","",1,"bg-danger","text-white",3,"click"],["mat-button","","cdkFocusInitial","",1,"light-blue","p-2","text-white",3,"mat-dialog-close"]],template:function(o,i){1&o&&(t.TgZ(0,"h4",0),t._uU(1,"Add facility"),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"form")(4,"mat-form-field",1)(5,"mat-label"),t._uU(6,"new facility"),t.qZA(),t.TgZ(7,"input",2),t.NdJ("ngModelChange",function(l){return i.data=l}),t.qZA()()()(),t.TgZ(8,"mat-dialog-actions",3)(9,"button",4),t.NdJ("click",function(){return i.onNoClick()}),t._uU(10,"Close"),t.qZA(),t.TgZ(11,"button",5),t._uU(12,"Add"),t.qZA()()),2&o&&(t.xp6(7),t.Q6J("ngModel",i.data),t.xp6(4),t.Q6J("mat-dialog-close",i.data))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,r.ZT,r.xY,r.H8,h.Nt,f.KE,f.hX,g.lW],styles:[".main[_ngcontent-%COMP%]{color:#fff;background-color:#3252df;border:aqua;padding:10px 5px;border-radius:5px}input[_ngcontent-%COMP%]{background-color:#f5f6f8!important}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:700px;border-radius:15px}.content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;cursor:pointer}.gray[_ngcontent-%COMP%]{color:#ababab}.light-blue[_ngcontent-%COMP%]{background-color:#203fc7}.text-light-blue[_ngcontent-%COMP%]{color:#203fc7}.border-light-blue[_ngcontent-%COMP%]{border:solid 1px rgb(32,63,199)}.card[_ngcontent-%COMP%]{width:500px!important}.font[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.text-dark-blue[_ngcontent-%COMP%]{color:#152c5b}.text-main[_ngcontent-%COMP%]{color:#3252df}.dark-blue[_ngcontent-%COMP%]{color:#152c5b}.btn-main[_ngcontent-%COMP%]{color:#fff;background-color:#3252df;border-color:#3252df}.btn-outline-main[_ngcontent-%COMP%]{color:#fff;background-color:#3252df;border-color:#3252df;transition:all}.btn-outline-main[_ngcontent-%COMP%]:hover, .btn-outline-main2[_ngcontent-%COMP%]{background-color:transparent;color:#152c5b;border-color:#152c5b}.btn-outline-main2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3252df;border-color:#3252df;transition:all}.myPointer[_ngcontent-%COMP%]{cursor:pointer}"]})}return n})();var C=a(990);let _=(()=>{class n{constructor(e,o){this.dialogRef=e,this.data=o}onNoClick(){this.dialogRef.close()}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(r.so),t.Y36(r.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-facilitie"]],decls:17,vars:5,consts:[[1,"container","py-4"],[1,"text-end","d-block","myPointer",3,"click"],[1,"fa-regular","fa-2x","fa-circle-xmark","text-danger"],[1,"p-3"],[1,"text-center","pb-3"],["src","../../../../../../assets/images/1685.jpg","alt","",1,"picture"],[1,"data","text-center"],[1,"text-end"],["mat-button","",1,"btn",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"section",0)(1,"a",1),t.NdJ("click",function(){return i.onNoClick()}),t._UZ(2,"i",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4),t._UZ(5,"img",5),t.qZA(),t.TgZ(6,"div",6)(7,"h4"),t._uU(8),t.qZA(),t.TgZ(9,"h4"),t._uU(10),t.ALo(11,"date"),t.qZA(),t._UZ(12,"hr"),t.qZA()(),t.TgZ(13,"div",7)(14,"button",8),t.NdJ("click",function(){return i.onNoClick()}),t._UZ(15,"span"),t._uU(16,"Close"),t.qZA()()()),2&o&&(t.xp6(8),t.Oqu(i.data.name),t.xp6(2),t.hij("Create: ",t.xi3(11,2,i.data.createdAt,"MMM d, y, h:mm:ss a"),""))},dependencies:[g.lW,d.uU],styles:[".main[_ngcontent-%COMP%]{color:#fff;background-color:#3252df;border:aqua;padding:10px 5px;border-radius:5px}input[_ngcontent-%COMP%]{background-color:#f5f6f8!important}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:700px;border-radius:15px}.content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;cursor:pointer}.gray[_ngcontent-%COMP%]{color:#ababab}.light-blue[_ngcontent-%COMP%]{background-color:#203fc7}.text-light-blue[_ngcontent-%COMP%]{color:#203fc7}.border-light-blue[_ngcontent-%COMP%]{border:solid 1px rgb(32,63,199)}.card[_ngcontent-%COMP%]{width:500px!important}.font[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.text-dark-blue[_ngcontent-%COMP%]{color:#152c5b}.text-main[_ngcontent-%COMP%]{color:#3252df}.dark-blue[_ngcontent-%COMP%]{color:#152c5b}.btn-main[_ngcontent-%COMP%]{color:#fff;background-color:#3252df;border-color:#3252df}.btn-outline-main[_ngcontent-%COMP%]{color:#fff;background-color:#3252df;border-color:#3252df;transition:all}.btn-outline-main[_ngcontent-%COMP%]:hover, .btn-outline-main2[_ngcontent-%COMP%]{background-color:transparent;color:#152c5b;border-color:#152c5b}.btn-outline-main2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3252df;border-color:#3252df;transition:all}.myPointer[_ngcontent-%COMP%]{cursor:pointer}.picture[_ngcontent-%COMP%]{width:400px}"]})}return n})();var M=a(9862);let O=(()=>{class n{constructor(e){this._HttpClient=e}getAllFacilities(e){return this._HttpClient.get("/admin/room-facilities",{params:e})}addNewFacilitie(e){return this._HttpClient.post("/admin/room-facilities",{name:e})}onEditFacilitie(e,o){return this._HttpClient.put(`/admin/room-facilities/${o}`,{name:e})}onDeleteFacility(e){return this._HttpClient.delete(`/admin/room-facilities/${e}`)}onViewFacilite(e){return this._HttpClient.get(`/admin/room-facilities/${e}`)}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(M.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var x=a(2425),u=a(6311),F=a(617),P=a(3365);function Z(n,k){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td")(10,"button",9)(11,"mat-icon"),t._uU(12,"more_horiz"),t.qZA()(),t.TgZ(13,"mat-menu",null,10)(15,"button",11),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.openViewFacilitieDialog(c))}),t.TgZ(16,"mat-icon",12),t._uU(17,"visibility"),t.qZA(),t.TgZ(18,"span"),t._uU(19,"View"),t.qZA()(),t.TgZ(20,"button",11),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.openEditCategory(c))}),t.TgZ(21,"mat-icon",12),t._uU(22,"edit_square"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"Edit"),t.qZA()(),t.TgZ(25,"button",11),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.openDeleteAdsDialog(c))}),t.TgZ(26,"mat-icon",12),t._uU(27,"delete"),t.qZA(),t.TgZ(28,"span"),t._uU(29,"Delete"),t.qZA()()()()()}if(2&n){const e=k.$implicit,o=t.MAs(14);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.xi3(5,4,e.createdAt,"MMM d, y, h:mm:ss a")),t.xp6(3),t.Oqu(t.xi3(8,7,e.updatedAt,"MMM d, y, h:mm:ss a")),t.xp6(3),t.Q6J("matMenuTriggerFor",o)}}const T=[{path:"",component:(()=>{class n{constructor(e,o,i){this._FacilitiesService=e,this.dialog=o,this._ToastrService=i,this.length=50,this.pageSize=5,this.pageIndex=1,this.pageSizeOptions=[5,10,25],this.tableFacilities=[]}ngOnInit(){this.getFacilities()}getFacilities(){this._FacilitiesService.getAllFacilities({size:this.pageSize,page:this.pageIndex}).subscribe({next:o=>{console.log(o),this.tableFacilities=o,this.totalCount=o.data.totalCount,this.tableData=o.data.facilities},error:o=>{console.log(o)}})}openAddFacilitieDialog(){this.dialog.open(b,{}).afterClosed().subscribe(o=>{console.log("The dialog was closed"),console.log(o),o&&this.addFacilities(o)})}addFacilities(e){console.log(e),this._FacilitiesService.addNewFacilitie(e).subscribe({next:o=>{console.log(o)},error:o=>{console.log(o)},complete:()=>{this.getFacilities(),this._ToastrService.success("Added Successfuly")}})}openEditCategory(e){console.log(e),this.dialog.open(b,{data:e.name}).afterClosed().subscribe(i=>{console.log("The dialog was closed"),console.log(i),i&&this.newEditFailities(i,e._id)})}newEditFailities(e,o){this._FacilitiesService.onEditFacilitie(e,o).subscribe({next:i=>{},error:i=>{console.log(i)},complete:()=>{this.getFacilities(),this._ToastrService.success("Updated Successfuly")}})}openDeleteAdsDialog(e){console.log(e),this.dialog.open(C.W,{data:e}).afterClosed().subscribe(i=>{console.log("The dialog was closed"),console.log(i),i&&this.deleteFacility(i)})}deleteFacility(e){this._FacilitiesService.onDeleteFacility(e).subscribe({next:o=>{console.log(o)},error:o=>{console.log(o)},complete:()=>{this.getFacilities(),this._ToastrService.info("Deleted Successfuly")}})}openViewFacilitieDialog(e){this.dialog.open(_,{data:e}).afterClosed().subscribe(i=>{console.log("The dialog was closed")})}viewFacilitie(e){this._FacilitiesService.onViewFacilite(e).subscribe({next:o=>{console.log(o)},error:o=>{console.log(o)},complete:()=>{}})}handlePageEvent(e){console.log(e),this.pageEvent=e,this.length=e.length,this.pageSize=e.pageSize,this.pageIndex=e.pageIndex+1,this.getFacilities()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(O),t.Y36(r.uw),t.Y36(x._W))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-facilities"]],decls:24,vars:4,consts:[["id","allFacilities"],[1,"row","py-5"],[1,"col-8"],[1,"col-4","text-end"],[1,"btn","light-blue","add-button","text-white",3,"click"],[1,"table"],[1,"col"],[4,"ngFor","ngForOf"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"text-primary"]],template:function(o,i){1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Facilities Table Details"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"You Can cheak all details"),t.qZA()(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return i.openAddFacilitieDialog()}),t._uU(9,"Add new facility"),t.qZA()()(),t.TgZ(10,"table",5)(11,"thead")(12,"tr")(13,"th",6),t._uU(14,"Name"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"createdAt"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"updatedAt"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Actions"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,Z,30,10,"tr",7),t.qZA()(),t.TgZ(23,"mat-paginator",8),t.NdJ("page",function(l){return i.handlePageEvent(l)}),t.qZA()()),2&o&&(t.xp6(22),t.Q6J("ngForOf",i.tableData),t.xp6(1),t.Q6J("length",i.totalCount)("pageSize",i.pageSize)("pageSizeOptions",i.pageSizeOptions))},dependencies:[d.sg,u.VK,u.OP,u.p6,g.RK,F.Hw,P.NW,d.uU],styles:[".main[_ngcontent-%COMP%]{color:#fff;background-color:#3252df;border:aqua;padding:10px 5px;border-radius:5px}input[_ngcontent-%COMP%]{background-color:#f5f6f8!important}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:700px;border-radius:15px}.content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;cursor:pointer}.gray[_ngcontent-%COMP%]{color:#ababab}.light-blue[_ngcontent-%COMP%]{background-color:#203fc7}.text-light-blue[_ngcontent-%COMP%]{color:#203fc7}.border-light-blue[_ngcontent-%COMP%]{border:solid 1px rgb(32,63,199)}.card[_ngcontent-%COMP%]{width:500px!important}.font[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.text-dark-blue[_ngcontent-%COMP%]{color:#152c5b}.text-main[_ngcontent-%COMP%]{color:#3252df}.dark-blue[_ngcontent-%COMP%]{color:#152c5b}.btn-main[_ngcontent-%COMP%]{color:#fff;background-color:#3252df;border-color:#3252df}.btn-outline-main[_ngcontent-%COMP%]{color:#fff;background-color:#3252df;border-color:#3252df;transition:all}.btn-outline-main[_ngcontent-%COMP%]:hover, .btn-outline-main2[_ngcontent-%COMP%]{background-color:transparent;color:#152c5b;border-color:#152c5b}.btn-outline-main2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3252df;border-color:#3252df;transition:all}.myPointer[_ngcontent-%COMP%]{cursor:pointer}#allFacilities[_ngcontent-%COMP%]{background-color:#ededed74;margin:20px 10px;border-radius:20px;padding:5px 10px}.add-button[_ngcontent-%COMP%]{padding:10px 20px}"]})}return n})()}];let A=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(T),m.Bz]})}return n})();var v=a(9035);let y=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[d.ez,A,v.m]})}return n})()}}]);